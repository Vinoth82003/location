<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Location Information</title>
    <!-- Add Bootstrap CSS and JS CDNs -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-5">
        <h1>Location Information</h1>
        <button class="btn btn-primary" id="getLocationBtn">Get Location</button>
        <div class="mt-3">
            <p><strong>Latitude:</strong> <span id="latitude"></span></p>
            <p><strong>Longitude:</strong> <span id="longitude"></span></p>
            <p><strong>City:</strong> <span id="city"></span></p>
        </div>
    </div>

    <!-- Add Bootstrap JS and jQuery CDNs -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        document.getElementById('getLocationBtn').addEventListener('click', function () {
            // Check if geolocation is available in the browser
            if ("geolocation" in navigator) {
                // Get the user's current position
                navigator.geolocation.getCurrentPosition(function (position) {
                    const latitude = position.coords.latitude;
                    const longitude = position.coords.longitude;
                    
                    // Update the latitude and longitude elements on the page
                    document.getElementById('latitude').textContent = latitude;
                    document.getElementById('longitude').textContent = longitude;

                    // Fetch the city name using Nominatim
                    fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}`)
                        .then(response => response.json())
                        .then(data => {
                            const city = data.address.city || data.address.town || data.address.village || data.address.hamlet || data.address.suburb;
                            document.getElementById('city').textContent = city;
                        })
                        .catch(error => {
                            console.error('Error fetching city name:', error);
                        });
                });
            } else {
                alert("Geolocation is not available in this browser.");
            }
        });
    </script>
    
</body>
</html>
